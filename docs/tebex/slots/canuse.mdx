---
title: "Hooks Usage"
---

### Exemple Client Side

```lua

local hookId = exports.papi_management:registerHook('onOpenStash', function(payload)
    print(json.encode(payload, { indent = true }))
    local type = payload.type
    local groups = payload.groups
    if not lib.table.contains(groups, ESX.PlayerData.job.name) then return false end
    return true
end)

```

### Exemple Server Side

```lua

local hookId = exports.papi_management:registerHook('onOpenStash', function(payload)
    print(json.encode(payload, { indent = true }))
    local playerId = payload.source
    local type = payload.type
    local groups = payload.groups
    local player = ESX.GetPlayerFromId(playerId)
    if not lib.table.contains(groups, player.getMeta('exemple')) then return false end
    return true
end)
```